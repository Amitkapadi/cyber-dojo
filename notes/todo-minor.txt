
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
REFACTOR
  add in example of each primitive useable in the unit-test-framework
  chosen. As an example see the starting test code for James' cpputest.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
REFACTOR
  is make_manifest in test_helper.rb used anywhere anymore?
  move app/lib/Choose.language into app/models/Languages?
  move app/lib/Choose.exercise into app/models/Exercises?
  move app/lib/Folders.id_complete into app/models/Katas.complete(id) ?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
REFACTOR
  application_controller does this...
    def root_path
      Rails.root.to_s + (ENV['CYBERDOJO_TEST_ROOT_DIR'] ? '/test/cyberdojo/' : '/')
    end
  make it so root_path is always set via ENV far from shell.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
REFACTOR
  ...
  prune_large.rb and prune_small.rb rework to used Dojo.each function
  Dojo.create_kata(manifest)
    add 2nd parameter specifying format, no default, on call use "rb"
  ...
  app_lib/Choose methods -> Dojo methods
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
REFACTOR
  Revert and fork javascript is virtually identical.
  ...
  Can i18n yml files be split?
  ...
  Exception_controller_test.rb needs some assertions!
  ...
  Rename css files,
    eg forker->forker_dialog
    eg reverter->reverter_dialog
    eg diff->diff_dialog
    don't forget to update application.css.scss
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -



- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
FAULT
  need to use more precise CSS to turn off dialog titlebar only
  in the diff-dialog (not in the home page button dialogs for example)
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
FAULT
  When Approval txt file is auto opened after pressing [test]
  it does not honour the line-numbers state.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
FAULT
  line-numbers appear momentarily when you press [revert]
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
FAULT
  katas/34/87780530/hippo/sandbox
  this has a cyber-dojo.sh file with the line
     echo 'Hello' > jj.txt
  delete jj.txt on browser
  hit [test]
  it is not being gm rm'd on the server
  I think the problem here is that the generated .txt file is
  sent back to the browser but it is not git added to the sandbox.
  And similarly approval .txt files that are deleted are also
  not git rm'd.
  Ponder this...
  How about this...
  o) avatar.save()   does disk file commands but *not* git commands
  o) avatar.test()
  o) output is saved to disk
  o) now newly created .txt files are added to visible_files
     and 'add' info is added to object holding git info
  o) now deleted .txt files are removed from visible_files
     and 'rm' info is added to object holding git into
  o) avatar.save(visible_files)
  o) parse output
  o) avatar.save(traffic_lights)
  o) now all accumulated git commands are executed
  o) not git commit and git tag commands are executed
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
FAULT
  Refactoring page on blog no longer works because
  forker/fork is now an ajax call returning json.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
FAULT
  test-failing...
  test/app_lib/git_diff_parser_tests.rb
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -



- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
DIFF-REVERT-FORK-DIALOG
  Have three tabs: one for diff, one for fork, one for revert
  On dashboard page don't show revert tab.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
DIFF-REVERT-FORK-DIALOG
  Put line-numbers in?
  Better selection of nonBoringFilenameIndex()
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
DIFF-REVERT-FORK-DIALOG
  Make line-numbes are toggleable on/off?
  When line is hovered, make it so the line-number is also highlit?
  Make content area slightly wider and deeper to match fork/revert
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
DIFF-REVERT-FORK-DIALOG
  remove obvious and complete duplication. Pass in callback function
  that does the fork/revert. Not quite that easy an inspection...
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
DIFF-REVERT-FORK-DIALOG
  make it look similar to diff-dialog
    don't show the red/green line-counts
    do show the content with the red/green deleted/added lines
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
DIFF-REVERT-FORK-DIALOG
  Hashes of the files, together with filenames, could be used
  to determine if a traffic-light is reverted.
  ...
  Store the hashes in increments.rb ?
  Yes. Do this as part of .rb -> .json file refactoring towards
  read-only server?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
DIFF-REVERT-FORK-DIALOG
  Add its own tool-tips
  ...
  if you press < > and the next diff has no actual diff
  then repeat (automatically) the < > until you get an actual diff?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -



- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
HOME-PAGE
  clicking yin-yang icon resets back to home page page with no id.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
HOME-PAGE
  would be nice if it had a heartbeat so it could detect and
  auto-enable the resume/review buttons.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
HOME-PAGE
  add a [publish] button. Perhaps layout as
  [ start] [ review]
  [resume] [publish]
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
HOME-PAGE
  Perhaps disable resume/review buttons until dojo is 30 seconds old?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -



- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
TEST-PAGE
  filenames: add * marker if files have changed since last [test] ?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
TEST-PAGE
  ...
  If [test] pressed and nothing has changed since last traffic-light
  pop up a dialog? Saying nothing different since last time.
  ...
  Should clicking avatar image on [test] page open dashboard? or home?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -



- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
DASHBOARD-PAGE
  Rename zips folder to downloads folder
  Figure out how to have download tests and gz file is rm'd on server
  Install download button
  Later I can add a publish button which exports the dojo to cyber-katas.org
  Dashboard on read-only server won't need heartbeat
  Dashboard on read-only server won't need age (use creation date instead)
  ...
  Dont refresh dashboard when refresh goes from on->off?
  ...
  Maybe show ticks on top row to indicate where columns are
  Or perhaps try subtle alternate "vertical-stripe" shading on rows.
  ...
  Nicer help dialog content (same format as on test page)
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
SETUP-PAGE
  Hitting escape key on setup page should be a cancel
  ...
  Use a dialog?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -


- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
EXERCISE-MANIFEST
  give Exercise a manifest like Language?
  would allow an Exercise image to have its own additional
  set of exercises.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
RUBY-QUESTION
  Can .entries take a parameter in general? In combination with .each
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
MODEL
  light = avatar.lights[params['tag']]   ?in forker_controller?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
CSS
  it seems that the common id/class name style is like-this
  and not like_this
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
MISC
  Nice dojos for screen shots
  A0FCF4CCBF  (shows the ellision at the rhs is not quite right yet?)
  4048EC
  B049D5
  89F073
  These are all in downloads/ folder on cyber-dojo.com and need untarring.
  They won't unzip (tar -ztvf) Says
    gzip: stdin: not in gzip format
    tar: Child returned status 1
    tar: Exiting with failure status due to previous errors
  On cyber-katas.org they are ok.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
MISC
  add ghosting when traffic-light is hovered over.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Running test/installation/check_language on non-test cyber-dojo root
shows some of the languages do not pass the checks.
  Java-Cucumber ...... ["red", "red", "green"] installed but not working (~ 4.64 seconds)
  Java-JUnit-Mockito . ["red", "amber", "red"] installed but not working (~ 3.05 seconds)
  Ruby-Approval ...... ["red", "red", "green"] installed but not working (~ 1.63 seconds)
  Ruby-Cucumber ...... multiple 42-files ["untitled.rb", "untitled.feature"]
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Deployment
  Locally
    1. Run all tests (including installation and rspec)
    2. Create new dojo, new animal, edit->amber, edit->green, resume, dashboard
    3. Push
  On test server
    0. Pull
    1. Run all tests
    2. Create new dojo, new animal, edit->amber, edit->green, resume, dashboard
  On cyber-dojo.com
    0. Pull
    1. Create new dojo, new animal, edit->amber, edit->green, resume, dashboard
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
SPEC
  Get them running again!
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Refactoring dojos
  Put tennis ones into zip / tar.gz ?
  ...
  Write script to unzip and ensure chown/chgrp www-data
  ...
  Auto unzip refactoring dojos after a prune_small/large true
  ...
  Add refactoring button on front page and its dialog has all
  refactoring URLs below
  ...
  Yahtzee
    Java   9D5B580C30 deer 1
    C#     8BD04E035C elephant 1
    Python 5C5B71C765 hippo 37
    C++    76DD58DE08 frog 1   this has a manifest :language='C++'
                               which is now :language='C++-assert'
  Tennis
    Java   B22DCD17C3 buffalo 11
    C#     672E047F5D buffalo 8
    Python 435E5C1C88 moose 5
    Ruby   3367E4B0E9 raccoon 4
    C++    A06DCDA217 wolf 5

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
19th Feb 2014: On cyber-dojo.com ran
  > ruby prune_small.rb true 3 7
    2764 katas deleted
    5783 katas not deleted
  >df
  reports no inodes regained?
  Wrong partition!
  Fixed etc/fstab so instead of
      /mnt/katas /var/www/cyberdojo/katas
      it does
      /mnt/cyberdojo /var/www/cyberdojo
  which transfers about 7G from the 10G-fs to the 100G-fs :-)
  that is much better.
  ...
  Copied tar.gz files back from cyber-katas to cyber-dojo.com
  Now untarring them on cyber-dojo.com
    find . -name '*.tar.gz' -print0 | xargs -0 -n1 tar xf
  Getting some errors...
    gzip: stdin: not in gzip format
    tar: Child returned status 1
    tar: Exiting with failure status due to previous errors
  Need to find out which ids are causing failures and why.
  Moved them back to separate downloads folder.
  ...
  The xfer.rb script could take the URL as a parameter.
  Will probably want to xfer in both directions.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
TOOL-TIPS
   default state can be showing a message saying
   hover over any element to reveal its tooltip?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
TOOL-TIPS
  on dashboard  |60s|columns
  on dashboard  age
  for diff-dialog
  for fork-dialog
  for revert-dialog
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
INSTALLATION-TESTS
  Install cpputest and get app/lib coverage to 100%
  Save run-tests outputs to log file?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
I18N
  Need to be i18n'd on the setup page.
  ...
  On dialog buttons
    cancel: new-file,rename-file,delete-file
    close: diff
  ...
  Lots more.
  Have promises for Russian and Ukranian.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
DIALOGS
  change .close() calls to .remove()
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
HTML
  s/fork/forker/
  s/revert/reverter/ ?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
READONLY PRACTICE VIEW WITH VOTING
  Start to think about opening up the done katas so people
  can see them and vote on them.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
ANIMATION
  keeping on the same file and showing its content in a rapid
  sequence of updates would be a nice feature?
  Do on dialog not showing diffs.
  Reduce font a lot so you can see outline. Auto? Slider-control?
  Stay on same file.
  Would be even better if it could detect a rename.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
RESUME/FORK? FROM RENAMED LANGUAGE
  http://localhost:3000/kata/edit/11870BBD9F?avatar=elephant
  This will not resume.
     lib/DiskFile.rb:27:in `read'
     lib/DiskFile.rb:27:in `read'
     app/models/language.rb:58:in `manifest'
     app/models/language.rb:48:in `tab_size'
     app/models/language.rb:44:in `tab'
     app/controllers/kata_controller.rb:11:in `edit'
  katas/11/870BBD9F/manifest.rb contains this...
     :language=>"Java-ApprovalTests"
  And thus models/language.rb is its trying to load
     /Users/jonjagger/Desktop/Repos/cyberdojo/languages/Java-ApprovalTests/manifest.rb
  But the name of the language has changed from
  Java-ApprovalTests
  to
  Java-Approval
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
LINE-NUMBERS
  Dynamically change width from <99 to 100+
  Make the left padding on the line-numbers (on test page)
  a bit thinner. Only if its >99 lines long use extra padding.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
FORWARDS-BACKWARDS
  on diff page alt-f and alt-b move forwards and backwards (cycle)
  through only the diff'd files.
  What do I bind to?
  Or did James mean to cycle through edited files in the test page?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
NEW-LANGUAGES
  https://github.com/gdunn/cyberdojo
  Add UnitTest++ C/C++
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
feedback from Derek Graham.
o) devs seem very reluctant to change the names of the untitled. files
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
At the moment the instructions come from exercises/ and
everything else comes from languages/ via manifest.rb
This means if I want to create a special exercise with
:highlight_filenames I have to do it as an exercise :-}
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -




------------------------------------------------------------
It would be simpler if output and instructions were not mixed
into kata.language and avatar.setup did an explicit
save(kata.exercise.instructions)

app/helpers
  not enough coverage on
    translation_helper.rb
    application_helper.rb

app/controllers
  application_controller.set_locale
  locales_controller.change

-------------------------------------------------------------
Thinking about how I could reduce the number of clicks to get started...
Suppose there were 4 rooms, each of a different colour.
Then players would not need to type in an ID. The room could have an ID
which they could use to get back to the session at a later time.
But at the start one person configures the blue room and then all the
players have to do is press the start button in the blue room.
Then they get a dialog saying "You are the panda". And you have to click
the ok button. Could I get rid of even that? Instead of a start button you
could have 16 animal buttons and you have to choose your animal by clicking it.
This also opens up the potential for not doing a setup, and then if you click
an animal, you get a random language+exercise combination.
The downside of this, of course, is that the blue room could be full when you
want to join it. But the upside is tremendous. You can see what people are
doing all the time without needing an ID.
I think this approach would definitely need each room to have a time-limit.
That way the room would become free again some time later.
Would mean the room-session could also have a name.
How about allowing a session to be either public or private.
If it's public then you can click a refresh button in your chosen room
(or ideally it appears all by itself) and a button for your session,
with its language,exercise,name,id is displayed. Click on it and you start.
This would also allow a history of previous sessions (by room perhaps).
Also, at the setup page, you could show all sessions that match the combination
you have chosen. And you could view those.
Or here's a possibly nice variation. Instead of public/private.
Have only public. But if you want you can delay (say by 1 hour) the public
appearance of the id.
Obviously a big design criteria for having private IDs is that it means
I don't really have to worry about 2+ computers using the same animal
at the same time. The resume feature means this is a definite possibility
if the ID is public.
