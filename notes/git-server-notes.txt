

Downloaded Linux Server iso image
http://www.ubuntu.com/download/server

Created new Guest in VirtualBox, called Linux Server, type=Linux, accepted settings
Clicked it to start and it asked for the image
Pointed it to the iso image I downloaded.
Responded to all the questions to setup the server.
Created a user called jon with usual password (sudoer)

Changed the network settings to Host-only-adapter.

Logged in as jon
$ ifconfig 
192.168.59.104  
$ sudo apt-get install git

make a git user
$ sudo adduser git
made sure its home folder was /home/git
prepare for ssh access files from host OS
$ mkdir /home/git/.ssh
$ chmod 700 .ssh

Now create /opt/git ready for repos
$ cd /opt
$ sudo mkdir git
$ sudo chown git git
$ sudo chgrp git git


Now back on host OSX, add my ssh credentials into the guest os git user
$ scp id_rsa.pub git@192.168.59.104:/home/git/.ssh

Now in guest OS add that to authorized_keys
$ su git
$ cd /home/git/.ssh
$ cat id_rsa.pub > authorized_keys
$ chmod 600 authorized_keys


Now back on host push bare repo to git server.
This will happen once only when the animal enters the dojo.
$ mkdir cyber-dojo_ABCDE12345_lion
$ cd cyber-dojo_ABCDE12345_lion
$ git init
$ cat Hello > greet.txt
$ git add greet.txt
$ git commit -am "initial commit"
$ cd ..
$ git clone --bare cyber-dojo_ABCDE12345_lion cyber-dojo_ABCDE12345_lion.git
$ scp -r cyber-dojo_ABCDE12345_lion.git git@192.168.59.104:/opt/git


Back in guest OS check its there
$ cd /opt/git
$ ls
cyber-dojo_ABCDE12345_lion.git


Back in host OS check I can clone from it
$ git clone git@192.168.59.104:/opt/git/cyber-dojo_ABCDE12345_lion.git
$ ls
cyber-dojo_ABCDE12345_lion



Did not change the login-shell for the git user to /usr/bin/git-shell
since that would prevent the scp I need (as each avatar enters) on 53


