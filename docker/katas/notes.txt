
Backing up katas data-container
its name = cyber-dojo-katas
its volume = /usr/src/cyber-dojo/katas

docker run
     --rm \
     --volumes-from cyber-dojo-katas \
     -v /home/docker:/backup:rw \
     alpine:3.2 \
     tar -zcf /backup/katas.tar.tgz usr/src/cyber-dojo/katas

After this katas.tar.tgz is in /home/docker on the host running docker daemon
Which could be default if you're using OSX Docker-Quickstart-Terminal
$ docker-machine ssh default ls -al /home/docker
-rw-r--r--    1 root     staff        15755 Feb 18 14:40 katas.tar.tgz

# - - - - - - - - - -  -- - - - - - - - - - - - - - - - - - -

# docker-compose.yml entry looks like this...
# I don't specify the katas service in the yml
# If I do that the katas service goes down when I do
# $ docker-compose rm
#
#web
#  ...
#  volumes_from:
#    - cyber-dojo-katas
#

Should I change the cdf/cyber-dojo commands
Currently
  echo '    up [OPTIONS]      Brings up cyber-dojo server'
  echo '    down              Brings down cyber-dojo server'

Where up does
  up = dc-create +  dc-start (same as dc)
  down = dc-stop + dc-rm


Perhaps [create] should be done by install and not offered as option.
No rm offered either

  echo '    start [OPTIONS]      Starts cyber-dojo server'
  echo '    stop                 Stops cyber-dojo server'

Did this.
after create [docker ps -a] shows both in created state
after start  [docker ps -a] shows nginx has exited!

docker logs cyber-dojo-nginx
2016/02/16 07:10:02 [emerg] 1#1: host not found in upstream "cyberdojo_web" in /etc/nginx/conf.d/default.conf:12
nginx: [emerg] host not found in upstream "cyberdojo_web" in /etc/nginx/conf.d/default.conf:12

I think that makes sense.
With [dc up] dc can connect everything properly.
If I do [dc create] [dc start] I have to connect things myself

I guess the real problem is down. It does [stop+rm]
Not safe. [stop] now just does stop.
ps now uses dc ps

How to create the katas data container when using docker-machine (OSX Windows)

A docker build command runs on default *after* it has been passed the context.
That won't work.
So I'm going to have to something like this:

   $ docker-machine scp katas/Dockerfile    default:KATAS_PATH
   $ docker-machine scp katas/.dockerignore default:KATAS_PATH
   $ docker-machine ssh default \
        sudo docker build \
            --build-arg=CYBER_DOJO_KATAS_ROOT=${CYBER_DOJO_KATAS_ROOT} \
            --tag=cyberdojofoundation/katas \
            KATAS_PATH

   $ docker-machine ssh default \
        sudo docker run \
            --name cyber-dojo-katas \
            cyberdojofoundation/katas \
            echo 'katas-data-container'

This assumes the Dockerfile and .dockerignore are on the host...
I want only the one sh file (+ yml)
Maybe create in a tmp folder on host first

   $







