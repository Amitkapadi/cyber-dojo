
<script type="text/javascript"><!--

$(document).ready(function() {

  //TODO: this loses the focus on the currently opened file

  var lineNumbersCheckbox = $('#line-numbers-checkbox');

  var lineNumbers = function() {
    return $('.line_numbers');
  };

  var showLineNumbersColor = lineNumbers().css('color');
  var hideLineNumbersColor = lineNumbers().css('background-color');

  cd.refreshLineNumbersColor = function() {
    // also called from cd.newFile()
    var color = lineNumbersCheckbox.is(':checked')
      ? showLineNumbersColor
      : hideLineNumbersColor;
    // Don't do .hide() as this causes
    // dom elements to shift positions.
    lineNumbers().css('color', color);
  };

  lineNumbersCheckbox.click(function() {
    cd.refreshLineNumbersColor();
  });


});

//--></script>

<table id="line-numbers-container">
  <tr>
    <td>
      <div id="label" title="toggles line-numbers on/off">
        line<br/>
        numbers
      </div>
    </td>
    <td>
      &nbsp;
    </td>
    <td>
      <input type="checkbox"
             class="regular-checkbox"
             checked="true"
             id="line-numbers-checkbox"/>
        <label for="line-numbers-checkbox"></label>
    </td>
  </tr>
</table>
