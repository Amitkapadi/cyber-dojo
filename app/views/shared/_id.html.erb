
<script language="javascript" type="text/javascript"><!--

$j(document).ready(function() {

  $j('#id').click(function() {
  
    var daySuffix = function(day) {
      if (Math.floor(day / 10) === 1) {
        return "th";
      } else {
        switch (day % 10) {
          case 1 : return "st";
          case 2 : return "nd";
          case 3 : return "rd";
          default: return "th";
        }
      }
    };

    var timeString = function() {
      var dayName = "<%= @kata.created.strftime("%a ") -%>";
      var day = <%=@kata.created.day-%>;
      var monthYearHourMinute = "<%= @kata.created.strftime(" %b %Y - %I:%M%p") -%>";
      return dayName + day + daySuffix(day) + monthYearHourMinute;
    };
  
    var info = {
            "kuid" : "<%= @kata.id -%>",
        "language" : "<%= @kata.language.name -%>",
        "exercise" : "<%= @kata.exercise.name -%>",
         "created" : timeString(),
      <% if @kata.diff -%>
        "diff_id" : "<%= @kata.diff.id -%>",
        "diff_avatar" : "<%= @kata.diff.avatar -%>",
        "diff_tag" : "<%= @kata.diff.tag -%>"
      <% end -%>
    };
    
    $cd.dialog_id(info);
  });

});

//--></script>

<input type="button"
       class="tiny button"
       title="Show id"
       id="id"
       value="<%=@kata.id-%>"/>
