
<script type="text/javascript"><!--
        
$(document).ready(function() {

  var exercises = $('[name=exercise]');
  var rand = Math.floor(Math.random() * exercises.size());   
  var previousExercise = $(exercises[rand]);
  
  var radioEntrySwitch = function(previous, current) {
    if (previous !== undefined) {
      previous.parent().removeClass('selected');
    }   
    current.parent().addClass('selected');
    current.attr('checked', 'checked');            
  };  
  
  exercises.each(function(index) {
    var instructions = $('#instructions_' + index).val();
    var node = $(this);
    node.parent().click(function() {
      radioEntrySwitch(previousExercise, node);
      previousExercise = node;
      $('#instructions').val(instructions);      
    });
  });

  $('#exercise_' + rand).parent().click();

});

//--></script>

<div id="exercise_qm">
  <%= t("views.labels.exercise") %>
</div>

<div id="exercise_list">
  <% @exercises.each_with_index do |choice,index| %>
    <div class="filename" >
      <input id="exercise_<%= index %>" 
             type="radio"
             name="exercise" 
             value="<%= choice %>" />
      <label><%= choice.gsub("_", " ") %></label>
    </div>    
  <% end %>
</div>

