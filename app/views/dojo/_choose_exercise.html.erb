
<script language="JavaScript"
        type="text/javascript"><!--
        
var previousExerciseIndex = "<%=@exercise_index-%>";

function exercise(index) {
  return $j('#exercise_' + index);  
}

function chooseExercise(index) {
  exercise(previousExerciseIndex).parent().attr('current_file', 'false');
  
  var instructions = $j('#instructions_' + index).val();
  $j('#instructions').val(instructions);
  
  var selected = exercise(index);  
  selected.parent().attr('current_file', 'true');
  selected.attr('checked', 'checked');
  previousExerciseIndex = index;
}

//--></script>

<td class="panel" valign="top">
  <div>
    <span class="choose_title">exercise?</span>
  </div>
  
  <% @exercises.each_with_index do |choice,index| -%>
    <div class="filename" 
         onclick='chooseExercise(<%=index-%>);' >
      <input id="exercise_<%=index-%>" 
             type="radio"
             <% if @exercise_index==index -%>
             checked="checked"
             <% end -%>
             onclick='chooseExercise(<%=index-%>);'                      
             name="exercise" 
             value="<%=choice-%>" />
      <label><%= choice -%></label>
    </div>    
  <% end -%>    
</td>

<td class="panel" valign="top">
  <textarea name="instructions" 
            id="instructions"
            cols="62" 
            rows="26">              
  </textarea>
</td>          

<% @exercises.each_with_index do |choice,index| -%>
   <textarea style="display:none;" 
             name="instructions_<%=index-%>"
             id="instructions_<%=index-%>"><%=h @instructions[choice] -%></textarea>
<% end -%>      


